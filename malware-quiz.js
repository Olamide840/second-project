const questions = [
    {
        question: "What is a Malware ?",
        options: [
            "A physical device used to hack computers",
            "A type of Secure software",
            "Malicious Software designed to damage or disrupt systems",
            "A security patch released by developers"
        ],
        answer: 2
    },
    {
        question: "Ransomeware is a type of malware that:",
        options: [
            "Deletes all your files immediately.",
            "Forces you to buy new antivirus software.",
            "Redirects you to phishing websites.",
            "Encrypy your files and demands payment to unlock them."
        ],
        answer: 3
    },
    {
        question: "All Ransomeware demands payment in cryptocurrency.",
        options: [
            "TRUE",
            "FALSE",
            "None of the above",
            "Maybe"
        ],
        answer: 1
    },
    {
        question: "Which of the following is the common way malware spreads ?",
        options: [
            "Hardware Failure.",
            "Clicking on suspicious email attachments or links.",
            "Manual software updates.",
            "Restarting the computer too often."
        ],
        answer: 1
    },
    {
        question: "Scenario: 'You receive an email that you owe money and includes a file attachmwnt labeled 'Invoice_overdue.exe'.' What should you do ?",
        options: [
            "Open the file to check the invoice",
            "Forward it to a coworker",
            "Delete it immediately or report it to IT",
            "Save it on your desktop for later"
        ],
        answer: 2
    },
    {
        question: "Which of the following is not a type of malware ?",
        options: [
            "Worm",
            "Trojan",
            "Rootkit",
            "Firewall"
        ],
        answer: 3
    },
    { 
        question: "Keeping software up to date helps protect against malware and ransomeware.",
        options: [
            "TRUE",
            "FALSE",
            "Maybe",
            "I don't know"
        ],
        answer: 1
    },
    {
        question: "What is the purpose of a Trojan horse malware ?",
        options: [
            "To protect against viruses",
            "To look like legitimate software while secretly performing malicious actions",
            "To backup your files",
            "To scan for ransomeware"
        ],
        answer: 1
    },
    {
        question: "What is the best immediate action if your computer is infected with a Ransomeware ?",
        options: [
            "Pay the ransome",
            "Disconnect from the network and contact IT/security team",
            "Restart the system",
            "Attempt yo delete the encrypted files"
        ],
        answer: 1
    },
    {
        question: "Which practice helps to orevent malware infections ?",
        options: [
            "Using weak passwords",
            "Ignoring software Updates",
            "Installing software from untrusted sources",
            "Running regular antivirus scans"
        ],
        answer: 3
    },
    {
    question: "What does a Trojan horse malware do?",
    options: [
      "Displays weather information",
      "Encrypts data for security",
      "Disguises itself as a harmless program but performs malicious actions",
      "Improves your computerâ€™s speed"
    ],
    answer: 2
  },
  {
    question: "Which malware locks your files and demands payment?",
    options: [
      "Spyware",
      "Adware",
      "Ransomware",
      "Rootkit"
    ],
    answer: 2
  },
  {
    question: "What is the best way to avoid malware?",
    options: [
      "Click all links in emails",
      "Only install software from trusted sources",
      "Disable your antivirus",
      "Use public Wi-Fi for banking"
    ],
    answer: 1
  },
  {
    question: "Which malware secretly gathers user information?",
    options: [
      "Spyware",
      "Worm",
      "Ransomware",
      "Adware"
    ],
    answer: 0
  },
  {
    question: "How do worms spread?",
    options: [
      "By sending out fake survey links",
      "Through software updates",
      "By replicating and spreading through networks without user action",
      "Only through USB drives"
    ],
    answer: 2
  },
  {
    question: "Adware typically does what?",
    options: [
      "Encrypts your hard drive",
      "Slows down your internet connection",
      "Bombards you with unwanted ads",
      "Deletes your system files"
    ],
    answer: 2
  },
  {
    question: "Which of the following is a common sign of malware infection?",
    options: [
      "Longer battery life",
      "Faster computer performance",
      "Frequent crashes and pop-up ads",
      "Higher resolution"
    ],
    answer: 2
  },
  {
    question: "What tool helps detect and remove malware?",
    options: [
      "Task Manager",
      "File Explorer",
      "Antivirus software",
      "Control Panel"
    ],
    answer: 2
  },
  {
    question: "Which of the following is a type of malware?",
    options: [
      "Firewall",
      "Antivirus",
      "Trojan Horse",
      "VPN"
    ],
    answer: 2
  },
  {
    question: "Can malware disrupt the functionality of a computer system ?",
    options: [
        "YES",
        "NO",
        "I dont know"
    ],
    answer: 0
  },
];

let currentQuestion = 0;
let score = 0;

function loadQuestion() {
  const q = questions[currentQuestion];
  document.getElementById("question").textContent = `Q${currentQuestion + 1}: ${q.question}`;

  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  q.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = () => selectAnswer(i);
    btn.className = "option-btn";
    optionsDiv.appendChild(btn);
  });
}

function selectAnswer(selected) {
  const correct = questions[currentQuestion].answer;
  const buttons = document.querySelectorAll(".option-btn");

  buttons.forEach((btn, idx) => {
    btn.disabled = true;
    if (idx === correct) btn.style.backgroundColor = "green";
    if (idx === selected && idx !== correct) btn.style.backgroundColor = "red";
  });

  if (selected === correct) score++;
}

function nextQuestion() {
  if (currentQuestion < questions.length - 1) {
    currentQuestion++;
    loadQuestion();
  } else {
    endQuiz();
  }
}

function endQuiz() {
  document.getElementById("quiz-box").style.display = "none";
  document.getElementById("result-box").style.display = "block";

  const percent = Math.round((score / questions.length) * 100);
  document.getElementById("score").textContent = `You got ${score} out of ${questions.length} (${percent}%)`;

  localStorage.setItem("malwareScore", score);
}

function goHome() {
  window.location.href = "home_page.html";
}

window.onload = loadQuestion;
